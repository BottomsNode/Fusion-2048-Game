@use "sass:math";
@import "helpers";
@import "fonts/clear-sans.css";

// --- Config ---
$field-width: 500px;
$mobile-field-width: 280px;
$grid-spacing: 15px;
$mobile-grid-spacing: 10px;
$grid-row-cells: 4;

$tile-size: ($field-width - $grid-spacing * ($grid-row-cells + 1)) / $grid-row-cells;
$tile-border-radius: 3px;

$mobile-threshold: $field-width + 20px;

// --- Colors ---
$text-color: #776e65;
$bright-text-color: #f9f6f2;
$tile-color: #eee4da;
$tile-gold-color: #edc22e;
$tile-gold-glow-color: lighten($tile-gold-color, 15%);
$game-container-background: #bbada0;

// --- Utilities ---
@mixin animation($args...) {
  animation: $args;
}

@mixin transition($args...) {
  transition: $args;
}

@mixin transform($args...) {
  transform: $args;
}

@mixin keyframes($name) {
  @keyframes #{$name} {
    @content;
  }
}

@mixin smaller($width) {
  @media screen and (max-width: $width) {
    @content;
  }
}

@mixin clearfix {
  &:after {
    content: "";
    display: block;
    clear: both;
  }
}

// --- Example Usage ---
// Tile grow animation
@include keyframes(tile-pop) {
  0%   { @include transform(scale(0)); }
  100% { @include transform(scale(1)); }
}

.tile {
  width: $tile-size;
  height: $tile-size;
  background: $tile-color;
  border-radius: $tile-border-radius;
  color: $text-color;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Clear Sans', sans-serif;

  &.tile-new {
    @include animation(tile-pop 0.2s ease);
  }
}

// Mobile adjustments
@include smaller($mobile-threshold) {
  .tile {
    width: ($mobile-field-width - $mobile-grid-spacing * ($grid-row-cells + 1)) / $grid-row-cells;
    height: ($mobile-field-width - $mobile-grid-spacing * ($grid-row-cells + 1)) / $grid-row-cells;
  }
}
